{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///project/workspace/src/app/login/page.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  Box,\n  Button,\n  Container,\n  Paper,\n  TextField,\n  Typography,\n} from \"@mui/material\";\nimport { useAppDispatch, useAppSelector } from \"../store/store\";\nimport { loginFailure, loginStart, loginSuccess } from \"../store/authSlice\";\nimport { useEffect, useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\n\nexport default function LoginPage() {\n  const dispatch = useAppDispatch();\n  const isAuth = useAppSelector((state) => state.auth.isAuthenticated);\n  const error = useAppSelector((state) => state.auth.error);\n  const loading = useAppSelector((state) => state.auth.loading);\n\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const router = useRouter();\n\n  useEffect(() => {\n    if (isAuth) {\n      router.replace('/dashboard');\n    }\n  }, [isAuth, router]);\n\n  const handleLogin = async () => {\n    dispatch(loginStart());\n\n    try {\n      const res = await fetch(\"https://dummyjson.com/auth/login\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          username: username,\n          password: password,\n        }),\n      });\n\n      if (!res.ok) {\n        throw new Error(\"Invalid Credentials\");\n      }\n\n      const data = await res.json();\n\n      dispatch(loginSuccess(data.token));\n    } catch (err) {\n      dispatch(loginFailure((err as Error).message));\n    }\n  };\n\n  return (\n    <Container maxWidth=\"sm\">\n      <Box\n        sx={{\n          minHeight: \"100vh\",\n          display: \"flex\",\n          alignItems: \"center\",\n        }}\n      >\n        <Paper elevation={3} sx={{ p: 4, width: \"100%\" }}>\n          <Typography variant=\"h5\" align=\"center\" gutterBottom>\n            Admin Login\n          </Typography>\n\n          <Typography align=\"center\" sx={{ mb: 2 }}>\n            Status: {isAuth ? \"Logged In\" : \"Logged Out\"}\n          </Typography>\n\n          <Box component=\"form\">\n\n            <TextField\n              label=\"Username\"\n              fullWidth\n              margin=\"normal\"\n              value={username}\n              onChange={(e) => setUsername(e.target.value)}\n            />\n\n            <TextField\n              label=\"Password\"\n              type=\"password\"\n              fullWidth\n              margin=\"normal\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n            />\n\n            {error && (\n              <Typography color=\"error\" sx={{mt: 1}}>\n                {error}\n              </Typography>\n            )}\n\n            <Button\n              variant=\"contained\"\n              fullWidth\n              sx={{ mt: 2 }}\n              onClick={handleLogin}\n              disabled={loading}\n            >\n              {loading ? 'Logging in ...' : 'Login'}\n            </Button>\n          </Box>\n        </Paper>\n      </Box>\n    </Container>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AACA;;;AAbA;;;;;;AAee,SAAS;;IACtB,MAAM,WAAW,IAAA,iJAAc;IAC/B,MAAM,SAAS,IAAA,iJAAc;4CAAC,CAAC,QAAU,MAAM,IAAI,CAAC,eAAe;;IACnE,MAAM,QAAQ,IAAA,iJAAc;2CAAC,CAAC,QAAU,MAAM,IAAI,CAAC,KAAK;;IACxD,MAAM,UAAU,IAAA,iJAAc;6CAAC,CAAC,QAAU,MAAM,IAAI,CAAC,OAAO;;IAE5D,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IAEzC,MAAM,SAAS,IAAA,kJAAS;IAExB,IAAA,0KAAS;+BAAC;YACR,IAAI,QAAQ;gBACV,OAAO,OAAO,CAAC;YACjB;QACF;8BAAG;QAAC;QAAQ;KAAO;IAEnB,MAAM,cAAc;QAClB,SAAS,IAAA,iJAAU;QAEnB,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,oCAAoC;gBAC1D,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;gBACA,MAAM,KAAK,SAAS,CAAC;oBACnB,UAAU;oBACV,UAAU;gBACZ;YACF;YAEA,IAAI,CAAC,IAAI,EAAE,EAAE;gBACX,MAAM,IAAI,MAAM;YAClB;YAEA,MAAM,OAAO,MAAM,IAAI,IAAI;YAE3B,SAAS,IAAA,mJAAY,EAAC,KAAK,KAAK;QAClC,EAAE,OAAO,KAAK;YACZ,SAAS,IAAA,mJAAY,EAAC,AAAC,IAAc,OAAO;QAC9C;IACF;IAEA,qBACE,6LAAC,0NAAS;QAAC,UAAS;kBAClB,cAAA,6LAAC,kMAAG;YACF,IAAI;gBACF,WAAW;gBACX,SAAS;gBACT,YAAY;YACd;sBAEA,cAAA,6LAAC,0MAAK;gBAAC,WAAW;gBAAG,IAAI;oBAAE,GAAG;oBAAG,OAAO;gBAAO;;kCAC7C,6LAAC,8NAAU;wBAAC,SAAQ;wBAAK,OAAM;wBAAS,YAAY;kCAAC;;;;;;kCAIrD,6LAAC,8NAAU;wBAAC,OAAM;wBAAS,IAAI;4BAAE,IAAI;wBAAE;;4BAAG;4BAC/B,SAAS,cAAc;;;;;;;kCAGlC,6LAAC,kMAAG;wBAAC,WAAU;;0CAEb,6LAAC,0NAAS;gCACR,OAAM;gCACN,SAAS;gCACT,QAAO;gCACP,OAAO;gCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;;;;;;0CAG7C,6LAAC,0NAAS;gCACR,OAAM;gCACN,MAAK;gCACL,SAAS;gCACT,QAAO;gCACP,OAAO;gCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;;;;;;4BAG5C,uBACC,6LAAC,8NAAU;gCAAC,OAAM;gCAAQ,IAAI;oCAAC,IAAI;gCAAC;0CACjC;;;;;;0CAIL,6LAAC,8MAAM;gCACL,SAAQ;gCACR,SAAS;gCACT,IAAI;oCAAE,IAAI;gCAAE;gCACZ,SAAS;gCACT,UAAU;0CAET,UAAU,mBAAmB;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO5C;GArGwB;;QACL,iJAAc;QAChB,iJAAc;QACf,iJAAc;QACZ,iJAAc;QAKf,kJAAS;;;KATF"}}]
}